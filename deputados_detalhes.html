<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="theme-color" content="#7faaff"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>Fiscalize - Câmara Legislativa Federal</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
</head>
<body>
  <nav class="blue-grey lighten-2" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="index.html" class="brand-logo">AppFiscalize</a>
    </div>
  </nav>
  <div class="section no-pad-bot" id="index-banner">
    <div class="container">
      <br><br>
      <h1 class="header center orange-text">Detalhes do deputado</h1>
    </div>
  </div>

  <div class="container" id="app">
    <div class="section">
      <!--   Icon Section   -->
      <div class="row">
        <div class="col s12 m12" v-if="dados_deputado != undefined" v-cloak>
          <div class="card  blue-grey lighten-1">
            <div class="card-content white-text center-align">
              <img v-if="dados_deputado.ultimoStatus != undefined" :src="dados_deputado.ultimoStatus.urlFoto" :alt="dados_deputado.nomeCivil" style="max-width: 110px">
              <span class="card-title">{{dados_deputado.nomeCivil}}</span>

              <p><strong>Valor gasto em {{ano_pesquisa}}: </strong>{{formatCurrency(total_despesas)}}</p>
              <p><strong>Código: </strong>{{dados_deputado.id}}</p>
              <!-- <p><strong>Nome civil: </strong>{{dados_deputado.nomeCivil}}</p> -->
              <p v-if="dados_deputado.ultimoStatus != undefined"><strong>Partido: </strong>{{dados_deputado.ultimoStatus.siglaPartido}}</p>
              <p><strong>CPF: </strong>{{dados_deputado.cpf}}</p>
              <p><strong>Sexo: </strong>{{dados_deputado.sexo}}</p>
              <p><strong>Data de nascimento: </strong>{{dados_deputado.dataNascimento}}</p>
              <p><strong>UF nascimento: </strong>{{dados_deputado.ufNascimento}}</p>
              <p><strong>Municipio de nascimento: </strong>{{dados_deputado.municipioNascimento}}</p>
              <p><strong>Escolaridade: </strong>{{dados_deputado.escolaridade}}</p>
              <hr>
              <p v-if="dados_deputado.ultimoStatus != undefined"><strong>Nome eleitoral: </strong>{{dados_deputado.ultimoStatus.nomeEleitoral}}</p>
              <p v-if="dados_deputado.ultimoStatus != undefined"><strong>Data de eleição: </strong>{{dados_deputado.ultimoStatus.data}}</p>
              <p v-if="dados_deputado.ultimoStatus != undefined"><strong>Situação: </strong>{{dados_deputado.ultimoStatus.situacao}}</p>
              <p v-if="dados_deputado.ultimoStatus != undefined"><strong>Condição eleitoral: </strong>{{dados_deputado.ultimoStatus.condicaoEleitoral}}</p>
              <p v-if="dados_deputado.ultimoStatus != undefined"><strong>Nome eleitoral: </strong>{{dados_deputado.ultimoStatus.nomeEleitoral}}</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="row" v-cloak>
        <div class="col s12">
          <ul class="tabs tabs-fixed-width">
            <li class="tab col s3"><a class="active" href="#tabDespesas">Despesas</a></li>
            <li class="tab col s3"><a href="#tabEventos">Eventos</a></li>
          </ul>
        </div>
        <div id="tabDespesas" class="col s12">
          <div class="section">
            <h4 class="center-align">Despesas em {{ano_pesquisa}}</h4>
            <div class="row">
              <div class="input-field col s12">
                <input id="tipo-despesa" type="text" v-model="filtro" v-on:keyup="filtrarDespesas()">
                <label for="tipo-despesa">Filtro (Tipo de despesa ou Fornecedor)</label>
              </div>
            </div>
            <table class="bordered striped centered responsive-table">
              <thead>
                <tr>
                  <th>Ano</th>
                  <th>Mês</th>
                  <th>Tipo desp.</th>
                  <th>Data do docum.</th>
                  <th>Fornecedor</th>
                  <th>CNPJ Forn.</th>
                  <th class="red-text">Valor docum.</th>
                  <th>Tipo docum.</th>
                  <th>Num docum.</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="despesa in despesas_filtradas">
                  <td>{{despesa.ano}}</td>
                  <td>{{despesa.mes}}</td>
                  <td>{{despesa.tipoDespesa}}</td>
                  <td>{{despesa.dataDocumento}}</td>
                  <td>{{despesa.nomeFornecedor}}</td>
                  <td>{{despesa.cnpjFornecedor}}</td>
                  <td class="red-text"><b>{{despesa.valorDocumento}}</b></td>
                  <td>{{despesa.tipoDocumento}}</td>
                  <td>{{despesa.numDocumento}}</td>
                </tr>
              </tbody>
            </table>
            <div class="row">
              <h3 class="red-text">Total filtrado: {{formatCurrency(total_despesas_filtradas)}}</h3>
            </div>
          </div>
        </div>
        <div id="tabEventos" class="col s12">
          <div class="section">
            <h4 class="center-align">Eventos em {{ano_pesquisa}}</h4>
            <div class="row">
              <!-- <div class="input-field col s12">
                <input id="tipo-despesa" type="text" v-model="filtro" v-on:keyup="filtrarDespesas()">
                <label for="tipo-despesa">Filtro (Tipo de despesa ou Fornecedor)</label>
              </div> -->
            </div>
            <!-- <table class="bordered striped centered responsive-table">
              <thead>
                <tr>
                  <th>Ano</th>
                  <th>Mês</th>
                  <th>Tipo desp.</th>
                  <th>Data do docum.</th>
                  <th>Fornecedor</th>
                  <th>CNPJ Forn.</th>
                  <th>Valor docum.</th>
                  <th>Tipo docum.</th>
                  <th>Num docum.</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="despesa in despesas_filtradas">
                  <td>{{despesa.ano}}</td>
                  <td>{{despesa.mes}}</td>
                  <td>{{despesa.tipoDespesa}}</td>
                  <td>{{despesa.dataDocumento}}</td>
                  <td>{{despesa.nomeFornecedor}}</td>
                  <td>{{despesa.cnpjFornecedor}}</td>
                  <td>{{despesa.valorDocumento}}</td>
                  <td>{{despesa.tipoDocumento}}</td>
                  <td>{{despesa.numDocumento}}</td>
                </tr>
              </tbody>
            </table> 
            <div class="row">
              <h3>Total filtrado: {{formatCurrency(total_despesas_filtradas)}}</h3>
            </div>-->
          </div>
        </div>
      </div>
    </div>
    <br><br>
  </div>

  <footer class="page-footer blue">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">AppFiscalize</h5>
          <p class="grey-text text-lighten-4">Acompanhe de forma fácil e prática todos os detalhes dispostos pela <a class="white-text" href="http://www2.camara.leg.br/">Câmara dos deputados</a>.</p>
        </div>
        <div class="col l3 s12">
          <h5 class="white-text">O que usamos:</h5>
          <ul>
            <li><a class="white-text" href="https://vuejs.org/">VueJS</a></li>
            <li><a class="white-text" href="https://dadosabertos.camara.leg.br/swagger/api.html">Dados abertos da câmara</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
      Feito com <a class="orange-text text-lighten-3" href="http://materializecss.com">Materialize</a>
      </div>
    </div>
  </footer>

  <!--  Scripts-->
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="js/funcoes.js"></script>
  <script src="js/materialize.js"></script>
  <script src="js/init.js"></script>
  <script src="https://unpkg.com/vue@2.4.2"></script>
  <script src="js/deputados_detalhes.js"></script>
  </body>
</html>
